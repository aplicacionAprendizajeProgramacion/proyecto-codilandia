<div class="nivel6-container">
  <button class="volver" (click)="router.navigate(['/nivelesNinos'])">â—€ VOLVER</button>
  <h1>âœï¸ NIVEL 6: OPERACIONES CON STRINGSâœï¸</h1>

  <div class="prueba">
    <h2>ğŸ“šÂ¿QUÃ‰ ES UN STRING?ğŸ“š</h2>
    <p class="texto-comparacion">
      Un <strong>string</strong> es una palabra o frase que usamos en los programas. <br/><br/>
      Se escribe siempre entre comillas.
      Por ejemplo: <code>"Hola"</code>, <code>"Me llamo Leo"</code>, o <code>"123"</code><br/><br/>
      Aunque aparezcan nÃºmeros, si estos estÃ¡n entre " ", serÃ¡ texto. Pero si un nÃºmero se guarda sin comillas en una variable numÃ©rica (como int o double), serÃ¡ considerado nÃºmero.
    </p><br/>
    <p  class="texto-comparacion">Â¡Podemos hacer muchas cosas con los strings! Como juntarlos, contar cuÃ¡ntas letras tienen o sacar solo una parte.</p>

    <br /><br/><hr><br />

    <h2>ğŸ“construye una frase con bloquesğŸ“</h2>
    <p class="texto-comparacion">
      Arrastra las piezas a los huecos grises para guardar en la variable <code>frase</code> el texto: <br/><code>"Hola Mundo"</code><br />
    </p>
  
    <div
      cdkDropList
      id="disponiblesList"
      [cdkDropListData]="bloquesDisponibles"
      [cdkDropListConnectedTo]="idsHuecos"
      class="bloques-disponibles"
      (cdkDropListDropped)="dropEnDisponibles($event)"
    >
      <div
        class="bloque"
        *ngFor="let bloque of bloquesDisponibles"
        cdkDrag
        [cdkDragData]="bloque"
      >
        {{ bloque }}
      </div>
    </div>
  
    <div class="zona-construccion">
      <div
        class="hueco"
        *ngFor="let hueco of bloquesSeleccionados; let i = index"
        cdkDropList
        [id]="idsHuecos[i]"
        [cdkDropListData]="[bloquesSeleccionados[i]]"
        [cdkDropListConnectedTo]="connectedDropLists"
        (cdkDropListDropped)="dropEnHueco($event, i)"
      >
        <div
          class="bloque"
          *ngIf="bloquesSeleccionados[i]"
          cdkDrag
          [cdkDragData]="bloquesSeleccionados[i]"
        >
          {{ bloquesSeleccionados[i] }}
        </div>
      </div>
    </div>
  
    <button class="btn-verificar" (click)="verificarBloques()" [disabled]="resuelto['concatenacion']">Verificar</button>
    <p *ngIf="resuelto['concatenacion']">
      <span *ngIf="correcto['concatenacion']">âœ…</span>
      <span *ngIf="!correcto['concatenacion']">âŒ<br />Respuesta esperada: <code>string frase = "Hola" + "Mundo";</code></span>
    </p>

    <br /><br/><hr><br />

    <h2>ğŸ“concatena usando variablesğŸ“</h2>
    <p class="texto-comparacion">TambiÃ©n podemos guardar strings en <strong>variables</strong> y luego unirlos:</p>
    <div class="bloque-codigo">
        <p>string saludo = "Hola";</p>
        <p>string nombre = "Leo";</p>
        <p>string frase = saludo + " " + nombre;</p>
      </div>
    <p class="texto-comparacion">Â¿QuÃ© frase guarda la variable <code>"frase"</code> (sin comillas: " ")?</p>

    <input type="text" [(ngModel)]="respuestas['concatVariables']" [disabled]="resuelto['concatVariables']" />
    <button class="btn-verificar" (click)="verificar('concatVariables')" [disabled]="resuelto['concatVariables']">Verificar</button>
    <p *ngIf="resuelto['concatVariables']">
      <span *ngIf="correcto['concatVariables']">âœ…</span>
      <span *ngIf="!correcto['concatVariables']">âŒ<br />Respuesta esperada: <code>{{ correctas['concatVariables'] }}</code></span>
    </p>

    <br /><br/><hr><br />

    <h2>ğŸ“concatena nÃºmeros y textosğŸ“</h2>
    <p>â— Si quieres unir un nÃºmero con texto, primero debes <strong>convertir el nÃºmero a string</strong>.</p>
    <p class="texto-comparacion">Puedes usar la funciÃ³n <code>to_string()</code></p>
    <p>Por ejemplo:</p>
    <div class="bloque-codigo">
      <p>int edad = 8;</p>
      <p>string mensaje = to_string(edad) + " aÃ±os";</p>
    </div>
    <p>Â¿QuÃ© resultado obtienes? (sin comillas)</p>

    <input type="text" [(ngModel)]="respuestas['sumaFinal']" [disabled]="resuelto['sumaFinal']" />
    <button class="btn-verificar" (click)="verificar('sumaFinal')" [disabled]="resuelto['sumaFinal']">Verificar</button>
    <p *ngIf="resuelto['sumaFinal']">
      <span *ngIf="correcto['sumaFinal']">âœ…</span>
      <span *ngIf="!correcto['sumaFinal']">âŒ<br />Respuesta esperada: <code>{{ correctas['sumaFinal'] }}</code></span>
    </p>
  </div>

  <div class="prueba">
    <h2>ğŸ“šUSO DEL COMANDO: <code>.length()ğŸ“š</code></h2>
    <p class="texto-comparacion">
      En los programas, usamos <code>.length()</code> para saber cuÃ¡ntos caracteres tiene un string.
      Por ejemplo:
    </p>


    <br /><br/><hr><br />

    <h2>ğŸ“cuenta las letras letrasğŸ“</h2>
    <p>Con los strings, podemos saber cuÃ¡ntos <strong>caracteres</strong> (letras, signos, espacios...) tiene una frase.</p>
    <p>Â¡Las comillas que envuelven la frase, no se cuentan como caracteres!</p>
    <p class="texto-comparacion"><code>"Hola!"</code> tiene... Â¿cuÃ¡ntos caracteres? Escribe el nÃºmero</p>

    <input type="text" [(ngModel)]="respuestas['longitud']" [disabled]="resuelto['longitud']" />
    <button class="btn-verificar" (click)="verificar('longitud')" [disabled]="resuelto['longitud']">Verificar</button>
    <p *ngIf="resuelto['longitud']">
      <span *ngIf="correcto['longitud']">âœ…</span>
      <span *ngIf="!correcto['longitud']">âŒ<br />Respuesta esperada: <code>{{ correctas['longitud'] }}</code></span>
    </p>

    <br /><br/><hr><br />


    <h2>ğŸ“Â¿cuÃ¡ntos caracteres se guardan en la variable <code>total</code>?ğŸ“</h2>

    <div class="bloque-codigo">
      <p>string palabra = "Casa";</p>
      <p>int total = palabra.length();</p>
    </div><br/>

    <input type="text" [(ngModel)]="respuestas['lengthExtra']" [disabled]="resuelto['lengthExtra']" />
    <button class="btn-verificar" (click)="verificar('lengthExtra')" [disabled]="resuelto['lengthExtra']">Verificar</button>
    <p *ngIf="resuelto['lengthExtra']">
      <span *ngIf="correcto['lengthExtra']">âœ…</span>
      <span *ngIf="!correcto['lengthExtra']">âŒ<br />Respuesta esperada: <code>{{ correctas['lengthExtra'] }}</code></span>
    </p>
  </div>

  <div class="prueba">
    <h2>ğŸ“šACCESO A LETRASğŸ“š</h2>
    <p class="texto-comparacion">
      Si <code>palabra = "Fruta"</code>, entonces <code>palabra[1]</code> te da la segunda letra.<br />
      Recuerda: el primer nÃºmero es el 0, el segundo es el 1, etc.
    </p>

    <br /><br/><hr><br />

    <h2>ğŸ“Â¿cuÃ¡l es la primera letra?ğŸ“</h2>
    <p>Podemos mirar quÃ© letra estÃ¡ en una posiciÃ³n usando los Ã­ndices (empezando desde 0):</p>
    <div class="bloque-codigo">
      <p>string palabra = "Casa";</p>
      <p>char letra = palabra[0];</p>
    </div>
    <p class="texto-comparacion">Â¿QuÃ© letra aparece primero en <code>"Casa"</code>?</p>

    <input type="text" maxlength="1" [(ngModel)]="respuestas['primerLetra']" [disabled]="resuelto['primerLetra']" />
    <button class="btn-verificar" (click)="verificar('primerLetra')" [disabled]="resuelto['primerLetra']">Verificar</button>
    <p *ngIf="resuelto['primerLetra']">
      <span *ngIf="correcto['primerLetra']">âœ…</span>
      <span *ngIf="!correcto['primerLetra']">âŒ<br />Respuesta esperada: <code>{{ correctas['primerLetra'] }}</code></span>
    </p>

    <br /><br/><hr><br />

    <h2>ğŸ“Â¿quÃ© letra estÃ¡ en la segunda posiciÃ³n de <code>"Fruta"</code>?ğŸ“</h2>
    <p>(La segunda posiciÃ³n corresponde con el Ã­ndice 1)</p>
    <input type="text" maxlength="1" [(ngModel)]="respuestas['charAccess']" [disabled]="resuelto['charAccess']" />
    <button class="btn-verificar" (click)="verificar('charAccess')" [disabled]="resuelto['charAccess']">Verificar</button>
    <p *ngIf="resuelto['charAccess']">
      <span *ngIf="correcto['charAccess']">âœ…</span>
      <span *ngIf="!correcto['charAccess']">âŒ<br />Respuesta esperada: <code>{{ correctas['charAccess'] }}</code></span>
    </p>
    <p class="recuadro-ejemplo" *ngIf="resuelto['charAccess']">string palabra = "Fruta";<br/>string letra = palabra[1];</p>
  </div>

  <div class="prueba">
    <h2>ğŸ“crea frases combinando valoresğŸ“</h2>
    <p class="texto-comparacion">Podemos hacer frases uniendo varias palabras o nÃºmeros usando <code>+</code>.</p>
    <p>Por ejemplo:</p>
    <div class="bloque-codigo">
      <p>string nombre = "Ana";</p>
      <p>int edad = 8;</p>
      <p>string frase = "Mi nombre es " + nombre + " y tengo " + to_string(edad) + " aÃ±os.";</p>
    </div>
    <p>Â¿CÃ³mo queda la frase final? (sin comillas)</p>

    <input type="text" [(ngModel)]="respuestas['formateo']" [disabled]="resuelto['formateo']" />
    <button class="btn-verificar" (click)="verificar('formateo')" [disabled]="resuelto['formateo']">Verificar</button>
    <p *ngIf="resuelto['formateo']">
      <span *ngIf="correcto['formateo']">âœ…</span>
      <span *ngIf="!correcto['formateo']">âŒ</span>
    </p>

    <br /><br/><hr><br />

    <h2>ğŸ“crea frases combinando valores</h2>
    <p>Imagina que tenemos:</p>
    <div class="bloque-codigo">
      <p>string nombre = "Luis";</p>
      <p>int edad = 10;</p>
    </div>
    <p class="texto-comparacion">
      Usa los bloques para formar esta frase dentro de una variable: <br />
      <code>"Soy Luis y tengo 10 aÃ±os."</code><br />
      ğŸ‘‰ Pista: Â¡recuerda usar el sÃ­mbolo <code>+</code> para unir los bloques!
    </p>
    
    <div
      cdkDropList
      id="formateoExtraList"
      [cdkDropListData]="bloquesFormateoExtra"
      [cdkDropListConnectedTo]="idsHuecosFormateoExtra"
      class="bloques-disponibles"
      (cdkDropListDropped)="dropEnFormateoExtra($event)"
    >
      <div
        class="bloque"
        *ngFor="let bloque of bloquesFormateoExtra"
        cdkDrag
        [cdkDragData]="bloque"
      >
        {{ bloque.texto }}
      </div>
    </div>
    
    <div class="zona-construccion">
      <div
        class="hueco"
        *ngFor="let hueco of bloquesSeleccionadosFormateoExtra; let i = index"
        cdkDropList
        [id]="idsHuecosFormateoExtra[i]"
        [cdkDropListData]="[bloquesSeleccionadosFormateoExtra[i]]"
        [cdkDropListConnectedTo]="connectedDropLists"
        (cdkDropListDropped)="dropEnHuecoFormateoExtra($event, i)"
      >
        <div
          class="bloque"
          *ngIf="bloquesSeleccionadosFormateoExtra[i]"
          cdkDrag
          [cdkDragData]="bloquesSeleccionadosFormateoExtra[i]"
        >
          {{ bloquesSeleccionadosFormateoExtra[i]?.texto }}
        </div>
      </div>
    </div>
    
    <button class="btn-verificar" (click)="verificarFormateoExtra()" [disabled]="resuelto['formateoExtra']">Verificar</button>
    <p *ngIf="resuelto['formateoExtra']">
      <span *ngIf="correcto['formateoExtra']">âœ…</span>
      <span *ngIf="!correcto['formateoExtra']">
        âŒ<br />
        Respuesta esperada:
        <code>"Soy" + " " + nombre + " y tengo " + edad + " aÃ±os."</code>
      </span>
    </p>    
    
  </div>
  <button class="btn-finish" (click)="finishLevel()" [disabled]="puedeFinalizar < puntos_maximos">Terminar Nivel</button>
</div>
